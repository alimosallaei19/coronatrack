<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<link rel="manifest" href="manifest.json">
	</link>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="blue">
	<meta name="apple-mobile-web-app-title" content="With Manifest">
	<link rel="apple-touch-icon" href="/images/c8e34134-a187-45c3-0aa1-67ab0eaf1082.webPlatform.png" sizes="152x152">
  	<link href="style.css" rel="stylesheet" type="text/css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js">
	</script>
	<script src="sw.js">
	</script>
	<script src="news.js">
	</script>
	</script>
	<title>MyLHS</title>
	<script>
		if(window.matchMedia('(display-mode: standalone)').matches) {
		if (localStorage.getItem("name")===null){
  var name = prompt("Welcome to the MyLHS app. What's your name?", "")
  localStorage.setItem("name", name)
}
		if (localStorage.getItem("email")===null){
  var email = prompt("Your email? (To save/pull your data)", "")
  email=email.replace(/\s+/g, '');
  localStorage.setItem("email", email)
}
		if (localStorage.getItem("beta")===null){
  var beta = prompt(`Welcome to the MyLHS app. We are right now in the Beta testing phase. To get the Beta key, go to alimosallaei.tech and find the Get a Beta Key button.`, "")
  if(beta === null || beta == ""){
    localStorage.setItem("beta", "1")
  } else {
  localStorage.setItem("beta", beta)
  }
}
if(localStorage.getItem("beta") != "7ugB3hYa"){
  localStorage.removeItem("beta")
  window.location.reload();
}
}
	</script>
	<script src="script.js">
	</script>
</head>

<body>
	<div id="full">
		<script src="https://cdn.jsdelivr.net/npm/matericious@0.10.1/dist/js/matericious.min.js">

		</script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/material-icons@0.3.1/iconfont/material-icons.min.css">
		<p id="local"></p>
    <div nav-content="4" id="sett">
    <h1>Settings</h1>
    <p style="border-radius:10px;background-color:#e6e6e6;padding:10px;">If one of the buttons gives you an error, exit the page/app and give it a minute :)</p>
    <h2>Change Class Colors</h2>
    <p>You probably have noticed that the class names are colored in the list view of the homework. Want to randomize them? Click the button below!</p>
    <button id="addDC" onclick="newColors()">Change the Colors!</button>
    <hr>
    <h2>Save to the Cloud</h2>
    <p>Saving your data will allow you to access your data across multiple devices. This is not done automatically for maintaining the privacy of your grades and class info. <b>(Homework is NOT saved on the cloud, due to the amount of space it takes up)</b></p>
    <p><i>If you choose to save data to the cloud, it will be encrypted. Click SAVE to do so.</i></p>
    <p id="emaill" style="border-radius:10px;background-color:#e6e6e6;padding:10px;"></p>

<span><button id="addC" onclick="copyData()">SAVE &#8613;</button> <button id="addCD" onclick="changeEmail()">Change Email &#8635;</button> </span>
<p id="lastS" style="border-radius:10px;background-color:#e6e6e6;padding:10px;">Last Saved NEVER</p>
<hr>
    <h2>Pull from the Cloud</h2>
    <p>If you have a more recent version of your data in the cloud, tap PULL to get it!</p>
    <span><button id="addC" onclick="useData()">PULL &#8615;</button> <button id="addCD" onclick="resetMe()">Reset App &#10008;</button></span>
    <hr>
    <h2>Delete from the Cloud</h2>
    <p>If you decide to delete your data from the cloud, and just keep it on this device, press REMOVE SAVE below.</p>
    <button id="addCD" onclick="delSave()">Remove Save &#10008;</button> 
    </div>
		<div id="gr" nav-content="1" class="active">
			<script src="grade.js">

			</script>
		</div>

<div nav-content="3" id = "op">
	<h1 style="font-size:35px;">Homework</h1>
		<div id="hwo" style="margin-top:120px;">
    <h1>List View</h1>
    </div>
    		<div id="imp" style="margin-top:120px;">
    <h1>Add Homework</h1>
     <p id="updateHW" style="border-radius:10px;background-color:#e6e6e6;padding:10px;margin-top:-10px;"><b>Lastest Update:</b> None</p>
    <p>Select Class:</p>
 <select id="myList" required></select>
     <p>Choose Date:</p>
 <span><select id="month" required></select> <select id="day" required></select> <select id="year" required></select></span>
 <p>Enter Homework:</p>
 <textarea id="homework11" rows="5" cols="44" required></textarea><br><br>
 <button id="addC" onclick="addHW()">Add Homework</button>
    </div>
  <div id="classe" style="margin-top:120px;">
    <h1>Calendar View</h1>
        <p>Selecting a day shows the homework due that day at the bottom of the calendar.</p>
    <!-- <button onclick='download_file("my_file.js", dynamic_text())'>Download</button> -->


       <div class="container">
        <div class="calendar-assets">
            <h1 id="currentDate"></h1>
            <!-- <div class="field">
                <label for="date">Choose a date:</label>
                <form class="form-input" id="date-search" onsubmit="return setDate(this)">
                    <input type="date" class="text-field" name="date" id="date" required>
                    <button type="submit" class="btn btn-small" title="Search"><i class="fas fa-search"></i></button>
                </form>
            </div> -->
            <div class="day-assets">
                <button class="btn" onclick="prevDay()" title="Yesterday"><i class="fas fa-chevron-left"></i> </button>
                <button class="btn" onclick="resetDate()" title="Today"><i class="fas fa-calendar-day"></i> Today</button>
                <button class="btn" onclick="nextDay()" title="Tomorrow"><i class="fas fa-chevron-right"></i> </button>
            </div>
        </div>
        <div class="calendar" id="table">
            <div class="header">
                <!-- Aqui é onde ficará o h1 com o mês e o ano -->
                <div class="month" id="month-header">

                </div>
                <div class="buttons">
                    <button class="icon" onclick="prevMonth()" title="Mês anterior"><i class="fas fa-chevron-left"></i></button>
                    <button class="icon" onclick="nextMonth()" title="Próximo mês"><i class="fas fa-chevron-right "></i></button>
                </div>
            </div>
        </div>
    </div>
    </div>
		<nav class="bottomNavA z-1 text-blue">
          <button class="ripple" nav-id="1" style="outline:none;" onclick="hideML()">
    <i class="material-icons">add_circle_outline</i>
    <span>Add HW</span>
  </button>
			<button id = "main" class="wave" nav-id="2" style="outline:none;" onclick="hideCl()">
    <i class="material-icons">format_list_bulleted</i>
    <span>List View</span>
  </button>
  <button class="ripple" nav-id="3" style="outline:none;" onclick="hideCa()">
    <i class="material-icons">event_note</i>
    <span>Calendar View</span>
  </button>
</nav>
		</div>
    <script src="https://kit.fontawesome.com/812e771e48.js" crossorigin="anonymous"></script>
		<nav class="bottomNav z-1 text-blue">
			<button id = "main" class="wave active" nav-id="1" style="outline:none;">
    <i class="material-icons">done_all</i>
    <span>GPA Calc</span>
  </button>
    <button class="wave active" id = "new" nav-id="3" style="outline:none;">
    <i class="material-icons">edit</i>
    <span>Homework</span>
  </button>
  <!-- <button class="ripple active" nav-id="2" style="outline:none;">
    <i class="material-icons">announcement</i>
    <span>News</span>
  </button> -->
  <button class="ripple active" nav-id="4" style="outline:none;">
    <i class="material-icons">settings</i>
    <span>Settings</span>
  </button>
</nav>
</div>
<div id="hello">
<h1 style="font-size:35px;">Welcome to MyLHS!</h1>
<h3>This app is designed to keep a running record of your GPA and save your homework</h3>
<h3>The GPA Calculator can:</h3>
<ul>
  <li>Save your classes and grades so you don't have to re-enter everything when you want to calculate the GPA</li>
  <li>Give you both your weighted and unweighted GPAs</li>
  <li>Based around LHS's grading policy</li> 
</ul>
<h3>Homework tab can:</h3>
<ul>
  <li>Save homework for you (duh)</li>
  <li>Show you homework on a calendar</li>
</ul>
<h3>So what are you waiting for? Let's get started!</h3>
<button onclick="first()" id = "addC">Let's Go!</button>
  </div>
  <div id="install">
<h1>MyLHS is an Installable App</h1>
<h3>To install for iOS, open this page (<a href="http://mylhs.ml">mylhs.ml</a>) in Safari; click the "Share" icon and then "Add to Homescreen".</h3> <h3>For Android, open this page (<a href="http://mylhs.ml">mylhs.ml</a>) in Chrome; click on the 3 dots in the top right, then click "Add to Homescreen".</h3><h3>Note that the first time opening the app might be slow due to initial setup</h3>
    </div>
    <div id="web">
<h1>MyLHS is a phone app</h1>
<h3>Open this page in either Safari (iOS) or Chrome (Android)</h3>
      </div>
<script>
		var isMobile = false
    var full = document.getElementById("full")
    var isH = document.getElementById("hello")
    var isW = document.getElementById("web")
    isW.style.display = "block"
        hello.style.display = "none"
    full.style.display = "none"

    function first(){
      localStorage.setItem("first", "1")
      window.location.reload()
    }
    var inst = document.getElementById("install")
    inst.style.display = "none"
    if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
 inst.style.display = "block"
 isW.style.display = "none"
}
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
          .then(function() {
                console.log('Service Worker Registered');
          });
      }
      if(window.matchMedia('(display-mode: standalone)').matches) {
        isMobile = true
    hello.style.display = "block"
    full.style.display = "none"
    inst.style.display = "none"
     isW.style.display = "none"

      if (localStorage.getItem("first") == "1" ){
      full.style.display = "block"
      hello.style.display = "none"
          inst.style.display = "none"
           isW.style.display = "none"


      }
}

	</script>

  <script src="about.js"></script>
  </body>
</html>